<div class="outer-div">
    <div *ngIf="(resetPasswordConnect.resetPasswordResponse) !== 'hide'" class="info-popup">
        <p class="password-reset-success" *ngIf="(resetPasswordConnect.resetPasswordResponse) === 'success'
            " id="resetSuccessfulParagraph" translate>password-reset.reset.successful</p>
        <p class="password-reset-failure" *ngIf="(resetPasswordConnect.resetPasswordResponse) === 'failure'"
            id="resetFailedParagraph" translate>password-reset.reset.failed</p>
    </div>
    <div class="account-details" id="accountDetails">
        <breadcrumb #parent>
            <ol class="breadcrumb">
                <ng-template ngFor let-route [ngForOf]="parent.breadcrumbs">
                    <li *ngIf="!route.terminal" class="breadcrumb-item">
                        <a href="" [routerLink]="[route.url]"> {{route.displayName}} </a>
                    </li>
                    <li *ngIf="route.terminal" class="breadcrumb-item active"> {{route.displayName}} </li>
                </ng-template>
            </ol>
        </breadcrumb>
        <div class="button-container">
            <button id="edit-button"
                    class="edit-button"
                    (click)="editUser(accountDetailsService.account.login)"
                    translate>account-details.edit_account</button>
            <button *ngIf="isOnOwnProfile()"
                    class="edit-button" id="change-password"
                    (click)="changeChangePasswordFormVisible(true)"
                    translate>account-details.change_password
            </button>
            <button *ngIf="identityService.isAdmin() && !isOnOwnProfile()" class="edit-button" id="reset-password"
                    (click)="resetPasswordClick()"
                    translate>reset-password.reset_password
            </button>
            <button class="edit-button" *ngIf="identityService.isAdmin()"
                    (click)="setLoginAccessLevels(accountDetailsService.account.login, accountDetailsService.account.accessLevel);
                    changeAccessLevelFormVisible(true)"
                    translate>account-details.edit_access_levels
            </button>
            <button class="edit-button"
                    (click)="changeEmailFormVisible(true)"
                    translate>account-details.change_email_address
            </button>
            <button class="edit-button" (click)="getAccount()" translate>general.refresh</button>
        </div>
        <div class="col">
            <div class="row">
                <label class="uppercase">Login:</label>
                <label id="login">{{accountDetailsService.account.login}}</label>
            </div>
            <div class="row">
                <label class="uppercase" translate>account-details.first_name</label>
                <label id="firstName">{{accountDetailsService.account.firstName}}</label>
            </div>
            <div class="row">
                <label class="uppercase" translate>account-details.last_name</label>
                <label id="lastName">{{accountDetailsService.account.lastName}}</label>
            </div>
            <div class="row">
                <label class="uppercase" translate>account-details.email_address</label>
                <label id="email">{{accountDetailsService.account.email}}</label>
            </div>
            <div class="row">
                <label class="uppercase" translate>account-details.phone_number</label>
                <label id="phoneNumber">{{accountDetailsService.account.phoneNumber}}</label>
            </div>
            <div class="row">
                <label class="uppercase" translate>account-details.language</label>
                <label>{{accountDetailsService.account.language}}</label>
            </div>
            <div class="row">
                <label class="uppercase" translate>account-details.timezone</label>
                <label>{{accountDetailsService.account.timeZone}}</label>
            </div>
            <div id="adminFields" *ngIf="identityService.isAdmin()">
                <div class="row">
                    <label class="uppercase" translate>account-details.active</label>
                    <label>{{accountDetailsService.account.active}}</label>
                </div>
                <div class="row">
                    <label class="uppercase" translate>account-details.confirmed</label>
                    <label>{{accountDetailsService.account.confirmed}}</label>
                </div>
                <div class="row">
                    <label class="uppercase" translate>account-details.last_modification_date</label>
                    <label>{{accountDetailsService.account.modificationDate}}</label>
                </div>
                <div class="row">
                    <label class="uppercase" translate>account-details.modified_by</label>
                    <label>{{accountDetailsService.account.modifiedBy?.login}}</label>
                </div>
                <div class="row">
                    <label class="uppercase" translate>account-details.creation_date</label>
                    <label>{{accountDetailsService.account.creationDate}}</label>
                </div>
                <div class="row">
                    <label class="uppercase" translate>account-details.last_known_good_login</label>
                    <label>{{accountDetailsService.account.lastKnownGoodLogin}}</label>
                </div>
                <div class="row">
                    <label class="uppercase" translate>account-details.last_known_good_login_ip</label>
                    <label>{{accountDetailsService.account.lastKnownGoodLoginIp}}</label>
                </div>
                <div class="row">
                    <label class="uppercase" translate>account-details.last_known_bad_login</label>
                    <label>{{accountDetailsService.account.lastKnownBadLogin}}</label>
                </div>
                <div class="row">
                    <label class="uppercase" translate>account-details.last_known_bad_login_ip</label>
                    <label>{{accountDetailsService.account.lastKnownBadLoginIp}}</label>
                </div>
                <div class="row">
                    <label class="uppercase" translate>account-details.number_of_bad_logins</label>
                    <label>{{accountDetailsService.account.numberOfBadLogins}}</label>
                </div>
            </div>
        </div>
        <hr/>
        <div class="access-levels">
            <label class="uppercase-access" translate>account-details.access_levels</label>
            <app-access-level-table id="accessLevels" [accessLevels]="accountDetailsService.account.accessLevel"></app-access-level-table>
        </div>
    </div>
</div>
<app-change-password-form *ngIf="isChangePasswordFormVisible"
                          (isChangePasswordFormVisibleChange)="changeChangePasswordFormVisible($event)"></app-change-password-form>
<app-access-level-form *ngIf="isAccessLevelFormVisible"
                       (isAccessLevelFormVisibleChange)="changeAccessLevelFormVisible($event)"
                       [loginToChangeAccessLevel]="loginToChangeAccessLevel" [loginAccessLevels]="loginAccessLevels"></app-access-level-form>
<app-change-email-form *ngIf="isChangeEmailFormVisible"
                       (isChangeEmailFormVisible)="changeEmailFormVisible($event)"></app-change-email-form>
<app-confirm-reset *ngIf="resetPasswordConnect.isResetPasswordVisible"
                   (isConfirmPasswordVisible)="changePasswordResetVisible($event)"></app-confirm-reset>
